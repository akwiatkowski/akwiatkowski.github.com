---
layout: null
permalink: /payload.json
---
{
  "posts":
  [
  {% for post in site.posts %}
    {
      "url":  "{{ post.url | json_escape }}",
      "title":  "{{ post.title | json_escape }}",
      "category": "{{ post.categories | json_escape }}",
      "date": "{{ post.date | date: "%Y-%m-%d" }}",
      "year": "{{ post.date | date: "%Y" }}",
      "month": "{{ post.date | date: "%m" }}",
      "day": "{{ post.date | date: "%d" }}",
      "header-ext-img": "{{ post.header-ext-img }}",
      "coords-circle": {% if post.coords-circle[0] %}[{{ post.coords-circle[0] }}, {{ post.coords-circle[1] }}]{% else %}null{% endif %},
      "coords-from": {% if post.coords-from[0] %}[{{ post.coords-from[0] }}, {{ post.coords-from[1] }}]{% else %}null{% endif %},
      "coords-to": {% if post.coords-to[0] %}[{{ post.coords-to[0] }}, {{ post.coords-to[1] }}]{% else %}null{% endif %},
      "range": {% if post.range %}{{ post.range }}{% else %}null{% endif %},

      "coords": {% if post.coords %}[
        {% for route in post.coords %}
          {
            "type": "{{ route.type }}",
            "route": [
              {% for c in route.route %}
                [{{ c[0] }}, {{ c[1] }}]{% if forloop.last %}{% else %},{% endif %}
              {% endfor %}
            ]
          }
          {% if forloop.last %}{% else %},{% endif %}
        {% endfor %}
      ]{% else %}null{% endif %},

      "tags": [
        {% for tag in post.tags %}
          "{{ tag }}"{% if forloop.last %}{% else %},{% endif %}
        {% endfor %}
      ],
      "towns": [
        {% for town in post.towns %}
          "{{ town }}"{% if forloop.last %}{% else %},{% endif %}
        {% endfor %}
      ],
      "lands": [
        {% for land in post.lands %}
          "{{ land }}"{% if forloop.last %}{% else %},{% endif %}
        {% endfor %}
      ]
    }{% if forloop.last %}{% else %},{% endif %}


  {% endfor %}
  ],

  "towns":
  [
    {% for town in site.data.towns %}
      {
      "slug":  "{{ town.slug | json_escape }}",
      "name": "{{ town.name | json_escape }}",
      "header-ext-img": "{{ town.header-ext-img }}",
      "type": "{{ town.type | json_escape }}",
      "url": "/town/{{ town.slug }}",
      "inside": [
        {% for inside in town.inside %}
          "{{ inside }}"{% if forloop.last %}{% else %},{% endif %}
        {% endfor %}
        ]
    }{% if forloop.last %}{% else %},{% endif %}


  {% endfor %}
  ],

  "lands":
  [
    {% for land in site.data.lands %}
      {
      "slug":  "{{ land.slug | json_escape }}",
      "name": "{{ land.name | json_escape }}",
      "main": "{{ land.main | json_escape }}",
      "country": "{{ land.country | json_escape }}",
      "type": "{{ land.type | json_escape }}",
      "visited": "{{ land.visited | json_escape }}",
      "header-ext-img": "{{ land.header-ext-img }}",
      "url": "/land/{{ land.slug }}",
      "type": "{{ land.type | json_escape }}",
      "train_time_poznan": "{{ land.train_time_poznan }}"
    }{% if forloop.last %}{% else %},{% endif %}


  {% endfor %}
  ],

  "land_mains":
  [
    {% for land_main in site.data.land_main %}
      {
      "slug":  "{{ land_type.slug | json_escape }}",
      "name": "{{ land_type.name | json_escape }}"
    }{% if forloop.last %}{% else %},{% endif %}


  {% endfor %}
  ],

  "land_types":
  [
    {% for land_type in site.data.land_types %}
      {
      "slug":  "{{ land_type.slug | json_escape }}",
      "name": "{{ land_type.name | json_escape }}"
    }{% if forloop.last %}{% else %},{% endif %}

  {% endfor %}
  ]

}
